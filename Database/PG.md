## 锁

作为一个多进程结构，pg用了很多轻量锁，等待队列中的第一个是排他锁那么大家都等他，如果第一个是共享锁的话那么所有想要获得共享锁的等待者都会被唤醒

自旋锁和轻量锁用来保护数据库系统中的一些变量，常规锁则属于事务锁，用来保护各种数据库对象

![[Pasted image 20230531082201.png]]
